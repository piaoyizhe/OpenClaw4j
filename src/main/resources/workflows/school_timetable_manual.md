# 学校排课工作流程

## Description
提供学校排课的标准化流程，包括班级管理、课程安排、教师分配和冲突检测等任务。适用于36个班级（1-6年级，每个年级6个班）的排课需求。

## Input
用户的排课请求，包含以下信息：
- 班级信息：年级、班级名称
- 教师信息：教师姓名、可教授科目、可授课时间
- 课程信息：科目、每周课时数、特殊要求（如语文课需要两节连排）
- 时间信息：学期开始日期、结束日期、每周工作日

## Output
- 执行结果：操作是否成功完成
- 排课表：每个班级的详细排课表，包含课程名称、教师、时间
- 教师课表：每位教师的授课安排
- 冲突检测报告：排课过程中发现的冲突及解决方案
- 错误信息：如果操作失败，提供错误原因

## Steps
1. **分析用户需求**：理解学校的排课规则和特殊要求
2. **收集基础数据**：
   - 班级信息：36个班级（1-6年级，每个年级6个班）
   - 教师信息：教师姓名、可教授科目
   - 课程信息：科目、每周课时数
   - 时间信息：每周上课时间安排
3. **制定排课规则**：
   - 每周要有一次上午两节连在一起的语文课
   - 班会是每周五下午
   - 周一一天七节课，第七节课是班会
   - 一周一次班会
   - 其他时间一天6节课
   - 避免老师排课冲突
4. **创建时间模板**：
   - 周一：7节课（第7节为班会）
   - 周二至周五：6节课（周五下午安排班会）
5. **分配课程**：
   - 为每个班级分配语文、数学、英语、体育、政治、阅讲、劳动、科学等科目
   - 确保语文课有一次上午两节连排
   - 安排班会时间
6. **分配教师**：
   - 根据教师专长分配课程
   - 避免教师在同一天同时上两个班级的课
   - 考虑教师的工作负载平衡
7. **冲突检测**：
   - 检测教师排课冲突
   - 检测课程时间冲突
   - 检测班级场地冲突
8. **生成排课表**：
   - 班级排课表
   - 教师课表
   - 课程总览表
9. **验证和调整**：
   - 验证排课结果是否符合所有规则
   - 根据需要进行调整
10. **生成执行报告**：向用户提供详细的排课结果

## Examples
### 示例1：为一年级班级排课
**输入**：为一年级6个班级（1-1至1-6）排课
**步骤**：
1. 分析一年级的课程需求和课时安排
2. 创建周一至周五的时间模板
3. 为每个班级分配语文、数学、英语等科目
4. 安排语文的两节连排课程在上午
5. 安排周五下午的班会
6. 分配教师，避免冲突
7. 检测冲突并调整
8. 生成一年级的排课表

### 示例2：教师冲突检测
**输入**：检测张老师的排课冲突
**步骤**：
1. 收集张老师的授课信息
2. 检查张老师在同一天是否有多个班级的课程
3. 发现冲突并提供解决方案
4. 调整排课安排
5. 验证调整后的结果

## Notes
- **班级数量**：36个班级，1-6年级，每个年级6个班
- **课程设置**：语文、数学、英语、体育、政治、阅讲、劳动、科学
- **时间安排**：
  - 周一：7节课（第7节为班会）
  - 周二至周五：6节课
  - 班会：每周五下午
  - 语文课：每周要有一次上午两节连排
- **教师分配**：
  - 每个老师可以带多个班级
  - 避免老师在同一天同时上两个班级的课
  - 考虑教师专长和工作负载
- **冲突检测**：
  - 教师时间冲突
  - 课程时间冲突
  - 班级场地冲突
- **灵活性**：
  - 允许根据实际情况进行调整
  - 考虑特殊情况的处理

## Tools
- ShellTool：执行排课脚本和数据分析
- FileTool：保存和处理排课数据
- HttpTool：如果需要从外部系统获取数据

## Subjects
- **语文**：每周多次，需要一次上午两节连排
- **数学**：每周多次
- **英语**：每周多次
- **体育**：每周至少一次
- **政治**：每周至少一次
- **阅讲**：每周至少一次
- **劳动**：每周至少一次
- **科学**：每周至少一次

## Time Schedule
### 周一
1. 第一节课：8:00-8:45
2. 第二节课：8:55-9:40
3. 第三节课：10:00-10:45
4. 第四节课：10:55-11:40
5. 第五节课：14:00-14:45
6. 第六节课：14:55-15:40
7. 第七节课：15:50-16:35（班会）

### 周二至周四
1. 第一节课：8:00-8:45
2. 第二节课：8:55-9:40
3. 第三节课：10:00-10:45
4. 第四节课：10:55-11:40
5. 第五节课：14:00-14:45
6. 第六节课：14:55-15:40

### 周五
1. 第一节课：8:00-8:45
2. 第二节课：8:55-9:40
3. 第三节课：10:00-10:45
4. 第四节课：10:55-11:40
5. 第五节课：14:00-14:45
6. 第六节课：14:55-15:40（班会）

## Grade Structure
- **一年级**：1-1, 1-2, 1-3, 1-4, 1-5, 1-6
- **二年级**：2-1, 2-2, 2-3, 2-4, 2-5, 2-6
- **三年级**：3-1, 3-2, 3-3, 3-4, 3-5, 3-6
- **四年级**：4-1, 4-2, 4-3, 4-4, 4-5, 4-6
- **五年级**：5-1, 5-2, 5-3, 5-4, 5-5, 5-6
- **六年级**：6-1, 6-2, 6-3, 6-4, 6-5, 6-6

## Conflict Resolution
1. **教师时间冲突**：
   - 调整课程时间
   - 更换教师
   - 调整班级课程安排
2. **课程时间冲突**：
   - 重新安排课程顺序
   - 调整课时分配
3. **班级场地冲突**：
   - 检查教室可用性
   - 调整课程时间

## Best Practices
1. **提前规划**：在学期开始前至少两周开始排课
2. **收集完整数据**：确保教师信息和课程需求准确完整
3. **优先安排特殊课程**：先安排有特殊要求的课程（如语文课连排）
4. **平衡工作负载**：确保教师的工作负载合理平衡
5. **多次检查**：在排课完成后进行多次冲突检测
6. **灵活性**：预留一些灵活时间，以应对临时调整
7. **沟通协调**：与教师和班主任保持沟通，了解特殊需求
